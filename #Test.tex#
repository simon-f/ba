\documentclass[paper=a4, fontsize=11pt]{scrartcl} % A4 paper and 11pt font size
\usepackage[utf8]{inputenc}
% \usepackage[german]{babel} 

% for bibtex
\usepackage{cite}

\usepackage{amsmath,amsfonts,amsthm} % Math packages
\usepackage{amssymb}
\usepackage{amsthm}

\usepackage{graphicx}
\usepackage{svg}
\usepackage{import}

\usepackage{url}
\usepackage{sectsty} % Allows customizing section commands


\usepackage{titlesec}
\titleformat{\section}[block]{\Large\bfseries\filcenter}{}{1em}{}



\usepackage{tikz}
\usepackage{fancyhdr} % Custom headers and footers
\pagestyle{fancyplain} % Makes all pages in the document conform to the custom headers and footers
\fancyhead{} % No page header - if you want one, create it in the same way as the footers below
\fancyfoot[L]{} % Empty left footer
\fancyfoot[C]{} % Empty center footer
\fancyfoot[R]{\thepage} % Page numbering for right footer
\renewcommand{\headrulewidth}{0pt} % Remove header underlines
\renewcommand{\footrulewidth}{0pt} % Remove footer underlines


\setlength{\headheight}{13.6pt} % Customize the height of the header
\setlength{\parskip}{0.5em}
\setlength{\parindent}{0em}

\numberwithin{equation}{section} % Number equations within sections (i.e. 1.1, 1.2, 2.1, 2.2 instead of 1, 2, 3, 4)
\numberwithin{figure}{section} % Number figures within sections (i.e. 1.1, 1.2, 2.1, 2.2 instead of 1, 2, 3, 4)
\numberwithin{table}{section} % Number tables within sections (i.e. 1.1, 1.2, 2.1, 2.2 instead of 1, 2, 3, 4)

\newtheorem{mydef}{Definition}


\title{Relations between spacial objects} 
\author{Simon Fromme}

\date{\normalsize zuletzt aktualisiert am \today}
 
\begin{document}

\maketitle
\newpage




\section{Topological relations}
\subsection{Prerequisites}

To understand the following sections a number of definitions are given that can also be found in most elementary text books on topology and multidimensional analysis.

Let $A$ be a subset of $\mathbb{R}^n$ ($n=1,2,3\dots$).

% replace the supscript "o" with the appropriate circle symbol
\textbf{Interior}\\
The interior of a set $A$ is denoted by $A^o$. It is the union of all open subsets of $A$ and hence is a subset of $A$ itself. It is formally defined as
\begin{align*}
  A^o := \{ x\in \mathbb{R}^n : \exists \epsilon > 0 : U_{\epsilon}(x) \subseteq A \},
\end{align*}
where $U_{\epsilon}$ is 
That means that for every point $x$ in $A^o$ there exists some arbitrary small sphere around $x$ that is still entirely inside of $A$. 

\textbf{Boundary} \\
The boundary of a set A is denoted by $\partial A$ and is formally defined as
\begin{align*}
  \partial A := \{ x \in \mathbb{R}^n : \forall \epsilon > 0 : U_{\epsilon}(x) \cap A \ne \varnothing \wedge U_{\epsilon}(x) \cap (\mathbb{R}^n \setminus A) \ne \varnothing    \}.
\end{align*}c
The idea of this definition is that an arbitrary small sphere around a point withing $\partial A$ intersects with both the set $A$ and its exterior $(\mathbb{R}^n \setminus A)$.

When an object is represented in BRep the boundary $\partial A$ is thus equal to the given $n-1$ dimensional shell.  

\textbf{Exterior} \\
The exterior of a set $A$ is equivalent to the complement of $A$ denoted by $A^c$. Thus it holds
\begin{align*}
  A^c:=\{x\in \mathbb{R}^n:x\notin A\}
\end{align*}


As entities representing real world objects will naturally be closed.  

To formalize topological relations between spacial objects different approaches were taken, one being the 4-Intersection Model which was later extended to a 9-Intersection Model. Since the latter will be used here it will be discussed in the following section.

\subsection{The 4-Intersection Model}
The 4-Intersection Model (4-IM) was described by M. J. Egenhofer and R. Franzosa in 1991 \cite{Egenhofer:1991:IJGIS} and makes use of point set theory. 


Topological relations are handled as topological predicates and thus propositions formed with these predicates can only take the values \emph{true} or \emph{false} (e.g. the proposition ``object A \emph{touches} object B'' formed with the predicate \emph{touches}). 
To overcome the limitations of human language the 4-IM defines a set of predicates as signatures of a 2x2 matrix defined as 
\begin{align*}
  I := \begin{pmatrix}
    A^{o} \bigcap B^{o}        & A^{o} \bigcap \partial B  \\
    \partial A \bigcap B^{o}  & \partial A \bigcap \partial B  \\
  \end{pmatrix}.
\end{align*}
As each matrix element can either be empty ($\varnothing$) or non-empty ($\neg\varnothing$), $2^4 = 16$ different configuration of the matrix are possible. Eight of those configurations are identified as predicates that occur in real situations 

\section{Directional Relations}

Another kind of relation to distinguish are relations that take into considerations the relative directions between objects. Intuitive examples are predicates like \emph{left}, \emph{right}, \emph{above}, \emph{below}, \emph{eastOf}, ...

In the context of city models one might be interested in all buildings west of an exhaust emitting factory, since that is the prefered wind direction in central europe. A geometry based query for bridges might be based on the \emph{above} relationship relative to a specified street and one might want to verify the statement that riverbanks on the northern hemisphere erode more on the right handside relative to the direction of flow by querying for objects on this side of the river. 

When speaking about directional relations it is important to specify a reference frame relative to which these relations are being considered. Following \cite{Retz-Schmidt:1988:VVS:46184.46189} Borrmann and Rank \cite{Borrmann:2009:AEI} distinguish three different kinds of reference frames, namely
\begin{itemize}
\item an \emph{intrincic} reference frame that is the defined by the inner orientation of the object such as the front side of a house or the right side of a river relative to the flow,
\item a \emph{deitic} a reference frame that is dependent on the position of an external observer and 
\item an \emph{extrinsic} reference frame that is defined by some external reference points. 
\end{itemize}

Taking into account the different meaning of the predicates \emph{left} and \emph{right} in a reference frame relative to an observer or relative to the frontside of a building it becomes clear that a reference frame must be specified when using either of those predicates.

We thus define a directional relation as tuple $(D,RF)$ where  
\begin{align*}
 D \subseteq A \times B 
\end{align*}
with $A$ and $B$ being sets of objects and $RF$ a reference frame.

Since directional relationships can be defined unambiguously only for point sized objects it is necessary to work out models to define those relations for spatially extended objects in higher dimensions. 

Borrmann and Rank \cite{Borrmann:2009:AEI} list a number of previous approaches that were developed to address this problem for objects with at least one having dimension 1 or above.

\subsection{previous work}
The most simple yet common approach is to use an objects center of gravity (or some other distinguished point) and to define directional relations between spatially extended objects as 0D-0D-relationships between those points. This is easy and unambiguous, however, it sometimes yields counter intuitive results as seen in Figure \ref{fig:center_gravity} where the center of gravity of $B$ is \emph{above} the center of gravity of $A$ although a person would probably classify the relationship the other way around. Thus using this simple approach might be easy to implement but sometimes lacks significance in complex scenarios.

\begin{figure}
  \centering
%  \includegraphics[width=3cm]
  \def\svgwidth{10em}
  \import{img/}{center_gravity.eps_tex}
  \caption{counter intuitive result when defining directional relations via the centers of gravity. The relation ``$B$ is \emph{above} $A$'' would hold in this case although that certainly violates common opinion.  }
\label{fig:center_gravity}
\end{figure}

In a two-dimensional space Borrmann and Rank \cite{Borrmann:2009:AEI} distinguish two different approaches to define directional relations between point size objects: the \textit{cone-based} and the \textit{direction-based} model. 

% TODO: insert original references for this model
In the cone-based model the space around a point gets dissected into a number of equally sized partitions (usually 4 or 8) and the direction of a target point from a reference point is determined by the partition in which the latter is located. For the special case of four partitions this yields the relations: \emph{northOf}, \emph{southOf}, \emph{eastOf} and \emph{westOf}. The partitions are disjoint so that only one of the respective relationship can hold. In Figure \ref{fig:direction_cone_model_4} the point $B$ would be considered to be \emph{eastOf} point $A$ according to this model. 

\begin{figure}
  \centering
  \def\svgwidth{15em}
  \import{img/}{direction_cone_model_4.eps_tex}
  \caption{According to the cone-based model in 2D-space the point B is located \emph{eastOf} the point A.}
\label{fig:direction_cone_model_4}
\end{figure}

In the direction-based model the space is divided into a northern and southern and an eastern and western halfspace relative to some reference point respectively. By projecting a target point on each pair of halfspaces one gets the four possible directions: \emph{northEastOf}, \emph{southEastOf}, \emph{southWestOf} and \emph{northWestOf}. 

A different approach to define directional relations between 2D objects is to use their minimum bounding rectangle (MBR) representation.

\begin{mydef}
  A minimum bounding rectangle (MBR) is a rectangle, oriented to the x- and y-axes, that bounds a geographic feature or a geographic dataset. It is specified by two coordinate pairs: $x_{\mathrm{min}}$, $y_{\mathrm{min}}$ and $x_{\mathrm{max}}$, $y_{\mathrm{max}}$.\footnote{definition according to \url{http://en.mimi.hu/gis/minimum_bounding_rectangle.html}}
\end{mydef}

Given the MBR of two objects: ($x^{(1)}_{\mathrm{min}}$, $y^{(1)}_{\mathrm{min}}$, $x^{(1)}_{\vphantom{\mathrm{i}}\mathrm{max}}$, $y^{(1)}_{\vphantom{\mathrm{i}}\mathrm{max}}$) and ($x^{(2)}_{\mathrm{min}}$, $y^{(2)}_{\mathrm{min}}$, $x^{(2)}_{\vphantom{\mathrm{i}}\mathrm{max}}$, $y^{(2)}_{\vphantom{\mathrm{i}}\mathrm{max}}$) one examines the projections onto the x- and y-axis of each bounding boxe and uses the characterization of 1D interval relations between $[x^{(1)}_{\mathrm{min}}, x^{(1)}_{\vphantom{\mathrm{i}}\mathrm{max}}]$, $[x^{(2)}_{\mathrm{min}}, x^{(2)}_{\vphantom{\mathrm{i}}\mathrm{max}}]$ and $[y^{(1)}_{\mathrm{min}}, y^{(1)}_{\vphantom{\mathrm{i}}\mathrm{max}}]$, $[y^{(2)}_{\mathrm{min}}, y^{(2)}_{\vphantom{\mathrm{i}}\mathrm{max}}]$ respectively. 
 
Having defined $n$ relations between 1D intervals one obtains $n^d$ interval relations in a $d$-dimensional space that can then be used to define directional relations between the two objects. 

Allen \cite{Allen:1983:MKT:182.358434} classifies 13 relations between (originally temporal) intervals in a 1D space, such as \textit{Interval $I_1$ is before Interval $I_2$} or \textit{$I_1$ overlaps $I_2$} that are used by other authors for classifications of 1D relationships. Out of those relations Guesgen \cite{guesgen1989spatial} uses a set of eight (\emph{left}, \emph{attached}, \emph{overlapping}, \emph{inside} and the reversed versions) to describe to and formally reason about spacial relationships in more-dimensional models. This is done by means of $d$-dimensional relationship tuples, since each dimension is considered to be independent from the others.

\begin{figure}
  \centering
  \def\svgwidth{20em}
  \import{img/}{mbr.eps_tex}
  \caption{Using minimum bounding rectangles to define directional relations in 2D. The MBR are projected on both the x- and y-axis. Subsequently one-dimensional relations between the projection intervals $I^{(1)}_x$, $I^{(2)}_x$  and $I^{(1)}_y$, $I^{(2)}_y$ are evaluated independently.}
\label{fig:mbr}
\end{figure}

Papadias et al. \cite{papadias1995topological} use the whole set of Allen's 13 relations but a distinction between topological and directional relations is not being made. 


\section{representations of 3D objects}

\subsection{Boundary representation}

\subsection{Octree}




\section{Implementation of spacial relationships}
The actual development of algorithms to compute spacial reationships between objects depends to a certain degree on the representation in which the input data is given. 

Borrmann et al. \cite{Daum2014} demonstrated how 




As the 3D city model of Karlsruhe was given in a BRep data format 





\bibliography{literature}{}
\bibliographystyle{plain}



\end{document}